## 常用操作

- 查询数据库 `show dbs;`
- 切换数据库 `use 数据库名;`
- 查询集合 `show collections;`
- 查询数据
  - 查询一个集合所有数据`db.集合名.find();`
  - 分页（小型） `db.集合名.find().skip(数字，从第几条开始，逐条跳过，效率偏低).limit(数字，显示多少条数据)`
  - 分页（大型），通过条件语句分页
    `db.集合名.find({...查询条件}).limit(数字)`
  - 排序 `db.集合名.find().sort({key:正数是升序，反之})`
  - 模糊搜索
    `db.集合名.find({key:/正则/})`
- 添加数据

  - 插入或更新 `db.集合名.save({...})`,自动生成`_id`
  - 纯插入 `db.集合名.insert({...})`,当`_id`有冲突报错

  两者都支持批量插入，需用数组包裹

- 删除数据

  - 匹配条件`db.集合名.remove({...})`

- 更新数据

  - 正常更新 `db.集合名.update({...查询条件对象},{$set:{替换的对象}})`
  - 覆盖更新 `db.集合名.({...查询条件对象},{...{覆盖内容}})`，更改成功后就是覆盖内容

  1. `$unset` 删除某个 key `db.集合名.update({...查询条件对象},{$unset:{键名:""}})`
  2. `$inc` 修改数字**前面步骤省略** `,{$inc:{键名：数字}}`
  3. 两个选项————第三个参数
     `upsert`和`multi`，默认参数顺序。`upsert`为`true`时，查询结果没用就添加一条新纪录，反之；`multi`为`true`批量修改。

     例子：`db.集合名.update({...查询条件对象},{$set:{...替换的对象}，{upsert:true,multi:false}})`
